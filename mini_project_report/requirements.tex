\chapter{Requirement Analysis}
\section{Purpose}
\par
Using coupons is a popular and easy way for shoppers to cut the cost of
groceries, personal care items and other household products, but couponing is not easy
without its rules and regulations. It is important for couponers to understand the
guidelines and stay within the legal boundaries when using coupons. Failure to
do so could result in coupon fraud, which can lead to criminal charges.

\section{Definition of Coupon Fraud}
The Coupon Information Corporation (CIC) has defined coupon fraud as
occurring \textit{"Whenever someone intentionally uses a coupon for a product that
he/she has not purchased or otherwise fails to satisfy the terms and conditions
for redemption, when a retailer submits coupons for products they have not sold
or that were not properly redeemed by a consumer in connection with a retail
purchase; or when coupons are altered/counterfeited."}
\par
The aim of the project is to build a system that can completely eliminate
the coupon fraud and to ensure the end to end security between at all user level
levels. This document explains various features of the management system and
its requirements.
A blockchain-based digital coupon issuing system can solve all these
problems. In the case of our system, the verification process is made as simple
as giving in a coupon hash as input and obtaining the coupon details. The hash of
each and every coupon generated by the retailer lives in the blockchain along with
the smart contract. It makes sure that coupon cannot be changed as it would
corrupt data in all other blocks of the blockchain as well. In a blockchain,
individual blocks can only be added with the consent of all other parties. This
prevents the generation of fake coupons.
The major objectives behind this work are as follows:
\begin{itemize}
    \item Elimination of coupon fraud
    \item Soft copies ensure that no coupons are lost 
    \item End to End security at different level of users.
\end{itemize}
\section{Overall Description}
\par
Blockchain coupon verification for retail chain can benefit the retail
marketing in large. The manufacture can provide a trusted platform to their
retailers and customers to verify their discount coupon from anywhere in the
globe. This can happen only through technical integration with current
technology. Blockchain for retail chain can be the correct solution for this. All
retail chain comes under some manufacture, the manufacture publishes some
discount coupons to increase their sales, they induce some validity to it, then they
release the coupon to the customers. The customers can redeem the coupons from
any outlets of the manufacture, where the retailer will collect the coupon verify it
and provide the corresponding discount associated.

\begin{itemize}
\item Manufacturer\\
 Manufacturer are the one who setups the retail chain. The retail chain can
be spread across the globe, various part of the country or can be within a state.
Our particular product is focusing on a large retail market where the retail outlets
are spread across the globe.
\item Retailers \\
 In most of the scenarios the manufacture provides the full authority of
publishing the coupons to the retailers, where it’s a large market.
The retailer is the one who manages a outlet under the manufacture, so he
is responsible for the sales of the product under that locality. So, he can publish
various coupon according the marketing needs, to increase his sales.
\item Customers\\
Customer simply uses the discount coupon published by the retailers, while
having their purchase.
\end{itemize}


\subsection{Product Functions}
The main functions of the proposed system include:
\begin{itemize}
    \item Retail market setup – Adding the retailers.
    \item Adding the product details.
    \item Coupon code generation.
    \item Publishing the coupon.
    \item Verifying the coupon code at any end level.
\end{itemize}



\subsection{Software Requirements}
\begin{itemize}
    \item Linux
    \item Ethereum blockchain 
    \item NodeJS
    \item Web3 framework
\end{itemize}

\section{Functional Requirements}
Functional requirements outline the intended behaviour of the system. This behaviour may be denoted as tasks or functions that the specified system is intended to perform. 
\subsection{Web Interface} \\
A web interface facilitates the interaction of the users with the system. The
manufacture adds the retailer, retailer generates the discount coupon. A QR code
is used corresponding to each coupon, this QR code get scanned and discount get
redeemed by the customers.
\subsection{NodeJs}
Node.js is an open source, cross-platform runtime environment for developing server-side and networking applications. Node.js applications are written in JavaScript, and can be run within the Node.js runtime on OS X, Microsoft Windows, and Linux.Node.js also provides a rich library of various JavaScript modules which simplifies the development of web applications using Node.js to a great extent.
\subsection{Web3.js}
web3.js is a collection of libraries which allow you to interact with a local or remote ethereum node, using a HTTP or IPC connection. Web3.js enables you to develop websites or clients that interact with the blockchain - writing code that reads and writes data from the blockchain with smart contracts.  It works by developing clients that interact with The Etherem Blockchain. It is a collection of libraries that allow you to perform actions like send Ether from one account to another, read and write data from smart contracts, create smart contracts, and so much more
\subsection{Ethereum Blockchain}

Ethereum blockchain is very much similar to the bitcoin network. Ethereum
blockchain provides a platform to build decentralized applications known as Dapps.
Similar to the bitcoin network, Ethereum is purely decentralised. One of the fac-
tors that distinguish Ethereum blockchain from bitcoin is that it is programmable.
In addition to the transactions, each block in the blockchain contains a code snip-
pet called smart contracts. It helps in bringing together people and organisations
from different dimensions of society without any third party dependency. Ethereum 
blockchain contains blocks of transactions. Each block contains a list of transactions
and a code snippet called smart contract. Ethereum uses an algorithm called proof
of work algorithm to verify the entire network. An important data structure that
is used by Ethereum is the Merkle tree. Each and every transaction in Ethereum is
represented by a hash value. Merkle tree is a tree made of transaction hash values.
Inside a block, two transactions are paired to form a single hash. Then two paired
transactions together form another hash. This process continues until we get a sin-
gle hash at the root. The root of a Merkle tree will be an outcome of the entire
transactions within that block.

\subsubsection{Smart Contract}

Smart contracts are the crucial components which
live inside the blocks of blockchain in the form of snippets of code. Solidity is the
most popularly used smart contract programming language. The solidity code is
very similar to javascript. Smart contracts are a set of rules and conditions which
has to be followed during transactions. Smart contracts are an integral part as it
eliminates the need for trusted third parties.

\subsubsection{Ganache}

In order to simulate blockchain Ganache is used. 
Ganache is a personal blockchain for Ethereum development you can use to deploy contracts, develop your applications, and run tests.
It is available as both a desktop application as well as a command-line tool (formerly known as the TestRPC).
It gives you the ability to perform all actions you would on the main chain without the cost. 
Many developers use this to test their smart contracts during development. 
It provides convenient tools such as advanced mining controls and a built-in block explorer.

\subsubsection{Truffle}


Truffle is a developer environment, testing framework and asset pipeline for blockchains. It allows developers to spin up a smart contract project at the click of a button and provides you with a project structure, files, and directories that make deployment and testing much easier.A world class development environment, testing framework and asset pipeline for blockchains using the Ethereum Virtual Machine (EVM), aiming to make life as a developer easier. With Truffle, you get:
\begin{itemize}
    \item Built-in smart contract compile, deploy, link and binary management.
    \item Scriptable, extensible deployment & migrations framework.
    \item Network management for deploying to any number of public & private networks.
    \item Package management with EthPM & NPM, using the ERC190 standard.
    \item Interactive console for direct contract communication.
\end{itemize}


\section{Non Functional Requirements}
Non-Functional requirements define the general qualities of the software product. Non-functional requirement is in effect a constraint placed on the system or the development process. They are usually associated with product descriptions such as maintainability, usability, portability, etc. it mainly limits the solutions for the problem. The solution should be good enough to meet the non-functional requirements. 
% \section{Performance Requirements}
% \begin{itemize}
%     \item Accuracy: Accuracy in the functioning and the nature of user-friendliness should be maintained in the system. 
%     \item Speed: The system must be capable of offering speed. 
% \end{itemize}
\section{Quality Requirements} 
\begin{itemize}
    \item Transparency: Transparency in blockchain defines the ability to access transaction history, assets etc. without limitations or boundaries. The system is transparent as anyone who is taking part in the system can verify the coupons generated.
    \item  Reliability: Blockchain is considered reliable because full copies of the block- chain ledger are maintained by all active nodes. Thus, if one node goes offline, the ledger is still readily available to all other participants in the network. A blockchain lacks a single point of failure. 
    \item  Consistency: Consistency guarantee that all honest parties output the same sequence of blocks throughout the execution of the protocol.
\end{itemize}


